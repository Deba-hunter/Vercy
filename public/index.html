<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>WhatsApp Auto Sender</title>
Â  <style>
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  font-family: 'Segoe UI', sans-serif;
Â  Â  Â  background: #0e0e0e;
Â  Â  Â  color: white;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  padding: 20px;
Â  Â  }

Â  Â  h1 {
Â  Â  Â  font-size: 24px;
Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  text-align: center;
Â  Â  Â  color: #00ff99;
Â  Â  }

Â  Â  form {
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 400px;
Â  Â  Â  background: #1a1a1a;
Â  Â  Â  padding: 20px;
Â  Â  Â  border-radius: 16px;
Â  Â  Â  box-shadow: 0 0 20px rgba(0, 255, 153, 0.2);
Â  Â  }

Â  Â  label {
Â  Â  Â  display: block;
Â  Â  Â  margin: 12px 0 6px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  color: #00ffcc;
Â  Â  }

Â  Â  input, select, textarea {
Â  Â  Â  width: 100%;
Â  Â  Â  padding: 10px;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  background: #2a2a2a;
Â  Â  Â  color: white;
Â  Â  Â  font-size: 14px;
Â  Â  }

Â  Â  input[type="file"] {
Â  Â  Â  background: transparent;
Â  Â  }

Â  Â  button {
Â  Â  Â  margin-top: 20px;
Â  Â  Â  width: 100%;
Â  Â  Â  padding: 12px;
Â  Â  Â  background: linear-gradient(90deg, #00ff99, #00ccff);
Â  Â  Â  color: black;
Â  Â  Â  font-weight: bold;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  font-size: 16px;
Â  Â  Â  transition: all 0.3s ease-in-out;
Â  Â  }

Â  Â  button:hover {
Â  Â  Â  transform: scale(1.05);
Â  Â  Â  background: linear-gradient(90deg, #00ccff, #00ff99);
Â  Â  }

Â  Â  .qr-box {
Â  Â  Â  margin: 20px 0;
Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  .qr-box img {
Â  Â  Â  width: 200px;
Â  Â  Â  height: 200px;
Â  Â  Â  border: 4px solid #00ffcc;
Â  Â  Â  border-radius: 12px;
Â  Â  }

Â  Â  .status {
Â  Â  Â  text-align: center;
Â  Â  Â  margin-top: 10px;
Â  Â  Â  color: #ffcc00;
Â  Â  }
Â  </style>
</head>
<body>
Â  <h1>ðŸ“¤ WhatsApp Auto Sender</h1>

Â  <div class="qr-box" id="qrBox">
Â  Â  <p class="status">ðŸ”„ Loading QR Code...</p>
Â  </div>

Â  <form id="sendForm" method="POST" enctype="multipart/form-data" action="/api/start">
Â  Â  <label>Your Name:</label>
Â  Â  <input type="text" name="name" required placeholder="Debasish / Sir / Bro" />

Â  Â  <label>Receiver Number(s):</label>
Â  Â  <input type="text" name="receiver" required placeholder="Use comma (,) for multiple" />

Â  Â  <label>Delay (seconds):</label>
Â  Â  <input type="number" name="delay" min="1" value="2" />

Â  Â  <label>Message File (.txt):</label>
Â  Â  <input type="file" name="file" accept=".txt" required />

Â  Â  <button type="submit">ðŸš€ Start Sending</button>
Â  Â  <button type="button" onclick="stopSending()">ðŸ›‘ Stop Sending</button>
Â  </form>

Â  <script>
Â  Â  async function loadQR() {
Â  Â  Â  const res = await fetch('/api/qr');
Â  Â  Â  const data = await res.json();
Â  Â  Â  const qrBox = document.getElementById('qrBox');
Â  Â  Â  if (data.qr) {
Â  Â  Â  Â  qrBox.innerHTML = `<img src="${data.qr}" alt="Scan QR" />`;
Â  Â  Â  } else {
Â  Â  Â  Â  qrBox.innerHTML = `<p class="status">${data.message}</p>`;
Â  Â  Â  }
Â  Â  }

Â  Â  loadQR();
Â  Â  setInterval(loadQR, 5000); // Refresh QR every 5 seconds

Â  Â  document.getElementById('sendForm').addEventListener('submit', async function (e) {
Â  Â  Â  e.preventDefault();
Â  Â  Â  const formData = new FormData(this);
Â  Â  Â  const res = await fetch('/api/start', {
Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  body: formData
Â  Â  Â  });
Â  Â  Â  const data = await res.json();
Â  Â  Â  alert(data.message || data.error);
Â  Â  });

Â  Â  async function stopSending() {
Â  Â  Â  const res = await fetch('/api/stop', {
Â  Â  Â  Â  method: 'POST'
Â  Â  Â  });
Â  Â  Â  const data = await res.json();
Â  Â  Â  alert(data.message || data.error);
Â  Â  }
Â  </script>
</body>
</html>
