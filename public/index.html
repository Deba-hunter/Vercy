<!-- public/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>WhatsApp Auto Sender</title>
Â  <style>
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  font-family: 'Segoe UI', sans-serif;
Â  Â  Â  background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
Â  Â  Â  color: white;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  padding: 1rem;
Â  Â  }

Â  Â  h1 {
Â  Â  Â  margin-top: 1rem;
Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  color: #00ffd0;
Â  Â  }

Â  Â  #qr {
Â  Â  Â  margin: 1rem 0;
Â  Â  Â  border: 3px dashed #00ffd0;
Â  Â  Â  padding: 10px;
Â  Â  Â  background: #fff;
Â  Â  }

Â  Â  form {
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  gap: 12px;
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 400px;
Â  Â  Â  background: rgba(255, 255, 255, 0.1);
Â  Â  Â  padding: 1rem;
Â  Â  Â  border-radius: 15px;
Â  Â  Â  box-shadow: 0 0 15px rgba(0, 255, 208, 0.2);
Â  Â  }

Â  Â  input[type="text"],
Â  Â  input[type="number"],
Â  Â  input[type="file"] {
Â  Â  Â  padding: 10px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  border: none;
Â  Â  Â  outline: none;
Â  Â  Â  font-size: 1rem;
Â  Â  }

Â  Â  button {
Â  Â  Â  padding: 12px;
Â  Â  Â  font-size: 1rem;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  cursor: pointer;
Â  Â  }

Â  Â  .start {
Â  Â  Â  background: #00ffd0;
Â  Â  Â  color: black;
Â  Â  }

Â  Â  .stop {
Â  Â  Â  background: red;
Â  Â  Â  color: white;
Â  Â  }

Â  Â  #message {
Â  Â  Â  margin-top: 15px;
Â  Â  Â  font-size: 1rem;
Â  Â  Â  text-align: center;
Â  Â  }
Â  </style>
</head>
<body>
Â  <h1>ðŸ“¤ WhatsApp Auto Sender</h1>

Â  <div id="qr">Loading QR...</div>

Â  <form id="sendForm">
Â  Â  <input type="text" name="receiver" placeholder="Receiver Number (e.g. 919876543210)" required />
Â  Â  <input type="number" name="delay" placeholder="Delay (seconds)" required />
Â  Â  <input type="text" name="name" placeholder="Name (e.g. HATERS)" required />
Â  Â  <input type="file" name="file" accept=".txt" required />
Â  Â  <button type="submit" class="start">Start</button>
Â  </form>

Â  <button class="stop" onclick="stopSending()">Stop</button>

Â  <div id="message"></div>

Â  <script>
Â  Â  async function loadQR() {
Â  Â  Â  const res = await fetch('/api/qr');
Â  Â  Â  const data = await res.json();
Â  Â  Â  const qrBox = document.getElementById('qr');
Â  Â  Â  if (data.qr) {
Â  Â  Â  Â  qrBox.innerHTML = `<img src="${data.qr}" width="200" />`;
Â  Â  Â  } else {
Â  Â  Â  Â  qrBox.innerText = data.message;
Â  Â  Â  Â  setTimeout(loadQR, 2000);
Â  Â  Â  }
Â  Â  }

Â  Â  loadQR();

Â  Â  document.getElementById('sendForm').addEventListener('submit', async (e) => {
Â  Â  Â  e.preventDefault();
Â  Â  Â  const form = e.target;
Â  Â  Â  const formData = new FormData(form);
Â  Â  Â  const res = await fetch('/api/start', {
Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  body: formData
Â  Â  Â  });
Â  Â  Â  const data = await res.json();
Â  Â  Â  document.getElementById('message').innerText = data.message || data.error;
Â  Â  });

Â  Â  async function stopSending() {
Â  Â  Â  const res = await fetch('/api/stop', { method: 'POST' });
Â  Â  Â  const data = await res.json();
Â  Â  Â  document.getElementById('message').innerText = data.message;
Â  Â  }
Â  </script>
</body>
</html>
