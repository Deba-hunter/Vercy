<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>WhatsApp Auto Sender</title>
Â  <style>
Â  Â  * {
Â  Â  Â  box-sizing: border-box;
Â  Â  }
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 1rem;
Â  Â  Â  font-family: 'Segoe UI', sans-serif;
Â  Â  Â  background: linear-gradient(to right, #000000, #1c1c1c);
Â  Â  Â  color: #ffffff;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  min-height: 100vh;
Â  Â  }

Â  Â  h1 {
Â  Â  Â  color: #00ffcc;
Â  Â  Â  text-align: center;
Â  Â  Â  margin-bottom: 1rem;
Â  Â  Â  font-size: 2rem;
Â  Â  }

Â  Â  #qr {
Â  Â  Â  margin: 1rem 0;
Â  Â  Â  border: 2px dashed #00ffcc;
Â  Â  Â  padding: 12px;
Â  Â  Â  background: #1a1a1a;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  form {
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  gap: 14px;
Â  Â  Â  background: #121212;
Â  Â  Â  padding: 1.5rem;
Â  Â  Â  border-radius: 15px;
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 420px;
Â  Â  Â  box-shadow: 0 0 20px rgba(0, 255, 204, 0.2);
Â  Â  }

Â  Â  input[type="text"],
Â  Â  input[type="number"],
Â  Â  input[type="file"] {
Â  Â  Â  padding: 12px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  border: none;
Â  Â  Â  background: #222;
Â  Â  Â  color: #fff;
Â  Â  Â  font-size: 1rem;
Â  Â  }

Â  Â  button {
Â  Â  Â  padding: 14px;
Â  Â  Â  font-size: 1rem;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  cursor: pointer;
Â  Â  }

Â  Â  .start {
Â  Â  Â  background: #00ffcc;
Â  Â  Â  color: black;
Â  Â  }

Â  Â  .stop {
Â  Â  Â  background: crimson;
Â  Â  Â  color: white;
Â  Â  Â  margin-top: 12px;
Â  Â  }

Â  Â  #message, #log {
Â  Â  Â  margin-top: 20px;
Â  Â  Â  font-size: 1rem;
Â  Â  Â  text-align: center;
Â  Â  Â  color: #ffeb3b;
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 420px;
Â  Â  }

Â  Â  #log {
Â  Â  Â  background: #1f1f1f;
Â  Â  Â  padding: 12px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  margin-top: 10px;
Â  Â  Â  max-height: 220px;
Â  Â  Â  overflow-y: auto;
Â  Â  Â  font-size: 0.85rem;
Â  Â  Â  color: #ccc;
Â  Â  }

Â  Â  .info {
Â  Â  Â  color: #aaa;
Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  margin-bottom: 0.5rem;
Â  Â  }
Â  </style>
</head>
<body>
Â  <h1>ğŸ“² WhatsApp Auto Sender</h1>
Â  <div class="info">Send to group or individual. Format: 9198xxxxxxxx or 1203xxxx@g.us</div>

Â  <div id="qr">ğŸ”„ QR Loading...</div>

Â  <form id="sendForm">
Â  Â  <input type="text" name="name" placeholder="Your Name (for personalization)" required />
Â  Â  <input type="text" name="receiver" placeholder="Receiver (number or group ID)" required />
Â  Â  <input type="number" name="delay" placeholder="Delay in seconds" required />
Â  Â  <input type="file" name="file" accept=".txt" required />
Â  Â  <button type="submit" class="start">ğŸš€ Start</button>
Â  </form>

Â  <button class="stop" onclick="stopSending()">ğŸ›‘ Stop</button>

Â  <div id="message">Status: Idle...</div>
Â  <div id="log"></div>

Â  <script>
Â  Â  async function loadQR() {
Â  Â  Â  const res = await fetch('/api/qr');
Â  Â  Â  const data = await res.json();
Â  Â  Â  const qrBox = document.getElementById('qr');
Â  Â  Â  if (data.qr) {
Â  Â  Â  Â  qrBox.innerHTML = `<img src="${data.qr}" width="220" alt="QR Code">`;
Â  Â  Â  Â  document.getElementById('message').innerText = 'ğŸ“· Scan QR with WhatsApp to connect';
Â  Â  Â  } else {
Â  Â  Â  Â  qrBox.innerText = data.message;
Â  Â  Â  Â  document.getElementById('message').innerText = data.message;
Â  Â  Â  Â  setTimeout(loadQR, 3000);
Â  Â  Â  }
Â  Â  }
Â  Â  loadQR();

Â  Â  document.getElementById('sendForm').addEventListener('submit', async (e) => {
Â  Â  Â  e.preventDefault();
Â  Â  Â  const formData = new FormData(e.target);
Â  Â  Â  document.getElementById('message').innerText = 'â³ Starting...';
Â  Â  Â  try {
Â  Â  Â  Â  const res = await fetch('/api/start', {
Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  body: formData
Â  Â  Â  Â  });
Â  Â  Â  Â  const data = await res.json();
Â  Â  Â  Â  document.getElementById('message').innerText = data.message || data.error;
Â  Â  Â  Â  addLog(`START: ${data.message}`);
Â  Â  Â  } catch {
Â  Â  Â  Â  document.getElementById('message').innerText = 'âŒ Failed to start';
Â  Â  Â  Â  addLog('ERROR: Failed to submit');
Â  Â  Â  }
Â  Â  });

Â  Â  async function stopSending() {
Â  Â  Â  const res = await fetch('/api/stop', { method: 'POST' });
Â  Â  Â  const data = await res.json();
Â  Â  Â  document.getElementById('message').innerText = data.message;
Â  Â  Â  addLog(`STOP: ${data.message}`);
Â  Â  }

Â  Â  function addLog(msg) {
Â  Â  Â  const log = document.getElementById('log');
Â  Â  Â  const time = new Date().toLocaleTimeString();
Â  Â  Â  log.innerHTML = `<div>[${time}] ${msg}</div>` + log.innerHTML;
Â  Â  }
Â  </script>
</body>
</html>
